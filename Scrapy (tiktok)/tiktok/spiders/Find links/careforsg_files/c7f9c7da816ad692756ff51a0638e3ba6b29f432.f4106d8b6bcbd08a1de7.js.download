(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"/Ykv":function(e,t){e.exports="//s16.tiktokcdn.com/tiktok/falcon/_next/static/images/img-hashtags-new-3ee3e0355bddcd08e3896ad65c959c6f.svg"},MI8B:function(e,t,i){"use strict";var n=i("Fcif"),o=i("6CzD"),a=i("dV/x"),r=i("NthX"),s=i.n(r),c=i("mK0O"),d=i("hisu"),l=i("yBJb"),p=i("kMo5"),f=i("P+uj"),u=i("CHlC"),h=i("mXGw"),g=i.n(h),m=i("GeWT"),x=i.n(m),b=i("8Jek"),v=i.n(b),y=i("bBV7"),w=i("YIwv"),j=i.n(w),k=i("SOdK"),O=i("OoRZ"),_=i("uFfG"),T=i("z5yb"),I=i("TgCv"),P=i("NjHF"),S=i("X5oT"),C=i("KxHE"),N=i("vOU8"),L=i("ptny"),E=i("hGcu"),D=i("hxo6"),V=i("hi5D"),R=i("Qi1R"),M=i("J2F4"),U=i("IYff"),F=i("ZPNs"),A=i("Y5Y5"),H=i("zt/2"),G=i("Jnvx"),K=i("vvX8"),B=i.n(K),$=i("xjLB"),z=i.n($),J=i("rkL7"),q=i.n(J),Y=i("1Svq"),X=g.a.createElement;function W(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?W(Object(i),!0).forEach((function(t){Object(c.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Z(e,t){var i=this.showingVideoList,n=i.statusCode,o=i.videoList;if(this.props.feedConfig&&(0!==o.length||n!==U.NET_ERROR)){var a=this.state.isTop,r=0===t,s={top:0,bottom:0};s.top=t,s.bottom=this.rootElement.scrollHeight-t-window.innerHeight,a!==r&&this.setState({isTop:r}),s.bottom-400<=0&&this.handleNextPage()}}t.a=function(){return function(e){var t,i,r,m=Object(k.a)(Z)((r=i=function(t){function i(){var e,t,n;Object(d.a)(this,i);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return(n=Object(p.a)(this,(e=Object(f.a)(i)).call.apply(e,[this].concat(l)))).state=(t={showingVideoIndex:-1},Object(c.a)(t,V.TabType.POST,{videoList:[],hasMore:!0,maxCursor:0,statusCode:0}),Object(c.a)(t,V.TabType.LIKE,{videoList:[],hasMore:!0,maxCursor:0,statusCode:0}),Object(c.a)(t,"loading",!1),Object(c.a)(t,"isTop",!1),Object(c.a)(t,"videoCardMuted",!1),Object(c.a)(t,"lineLeft",0),Object(c.a)(t,"selectedTab",{left:0,type:V.TabType.POST}),Object(c.a)(t,"propsData",{}),Object(c.a)(t,"headerSkeleton",!!n.props.isSSR),t),n.asyncSetState=function(e){return new Promise((function(t){n.setState(e,t)}))},n.updateData=function(e){n.setState({propsData:e})},n.updateSkeleton=function(e){n.setState({headerSkeleton:e})},n.handleRouterChange=function(){var e,t=n.props,i=t.challengeInfo,o=t.userInfo;n.setState((e={showingVideoIndex:-1},Object(c.a)(e,V.TabType.POST,{videoList:[],hasMore:!0,maxCursor:0}),Object(c.a)(e,V.TabType.LIKE,{videoList:[],hasMore:!0,maxCursor:0}),Object(c.a)(e,"loading",!1),Object(c.a)(e,"lineLeft",0),Object(c.a)(e,"selectedTab",{left:0,type:V.TabType.POST}),Object(c.a)(e,"propsData",{challengeInfo:i,userInfo:o}),e)),n.handleNextPage()},n.handleMuteChange=function(e){n.setState({videoCardMuted:e.detail.muted})},n.swiperTea=function(e){var t=e.next,i=e.keyDown;E.c.getEventCommons(M.j.PWA).page_name===V.PageNames.TRENDING&&Object(D.a)({TeaName:t?M.l.TRENDING_SLIDE_UP:M.l.TRENDING_SLIDE_DOWN,pageType:V.PageType.TRENDING,parmas:{enter_method:i?M.e.KEYDOWN:M.e.CLICK},itemInfos:{id:n.showingVideoInfo.itemInfos.id,authorId:n.showingVideoInfo.authorInfos.userId}})},n.handleKeyDown=function(e){if(-1!==n.state.showingVideoIndex)switch(e.keyCode){case C.a.LEFT:n.handlePrevVideo({keyDown:!0});break;case C.a.RIGHT:n.handleNextVideo({keyDown:!0})}},n.getVideoList=function(){var e,t,i,o,a,r,c,d,l,p;return s.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.props,t=e.$appId,i=e.feedConfig,o=i.id,a=void 0===o?"":o,r=i.secUid,c=void 0===r?"":r,d=i.pageType,l=n.showingVideoList.maxCursor,p={count:30,id:a,type:d,secUid:c,maxCursor:l,minCursor:0},s.abrupt("return",N.a.getVideoList(p,{_signature:!0,appId:t}));case 5:case"end":return s.stop()}}),null,null,null,Promise)},n.getVideoListCSR=function(){var e,t,i,o,a,r,c,d,l,p,f,u;return s.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.props,t=e.$appId,i=e.$region,o=e.$language,a=e.feedConfig,r=a.id,c=void 0===r?"":r,d=a.secUid,l=void 0===d?"":d,p=a.pageType,f=n.showingVideoList.maxCursor,u={count:30,id:c,type:p,secUid:l,maxCursor:f,minCursor:0,sourceType:V.SourceType[p],appId:t,region:i,language:o},s.abrupt("return",N.a.getVideoListCSR(u,{_signature:!0,baseURL:Object(F.b)(t)}));case 5:case"end":return s.stop()}}),null,null,null,Promise)},n.getLikeVideoList=function(){var e,t,i,o,a,r,c,d,l,p,f;return s.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.props,t=e.feedConfig,i=e.$appId,o=e.$language,a=e.$region,r=t.id,c=void 0===r?"":r,d=t.secUid,l=void 0===d?"":d,p=n.showingVideoList.maxCursor,f={count:30,id:c,type:V.PageType.LIKE,secUid:l,maxCursor:p,minCursor:0,appId:i,language:o,region:a},s.abrupt("return",N.a.getLikeVideoListCSR(f,{_signature:!0,baseURL:Object(F.b)(i)}));case 5:case"end":return s.stop()}}),null,null,null,Promise)},n.handleVideoCountUpdate=function(e){var t=e.vid,i=e.count,o=n.state.selectedTab,a=n.showingVideoList.videoList.map((function(e){return e.itemInfos.id})).indexOf(t);a<0||(n.showingVideoList.videoList[a].itemInfos.commentCount=i,n.setState(Object(c.a)({},o.type,Q({},n.showingVideoList))))},n.handleNextPage=function(){var e,t,i,r,d,l,p,f,u,h,g,m,x;return s.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(e=n.props.feedConfig,t=e.pageType,i=n.state.selectedTab,n.showingVideoList.hasMore&&!n.loading){b.next=6;break}return b.abrupt("return");case 6:return n.loading=!0,n.setState({loading:!0}),b.prev=8,d=n.showingVideoList.videoList,l=n.getVideoList,i.type===V.TabType.LIKE?l=n.getLikeVideoList:t!==V.PageType.TRENDING&&t!==V.PageType.USER||(l=n.getVideoListCSR),b.next=14,s.a.awrap(l());case 14:p=b.sent,f=p.list,u=p.hasMore,h=p.maxCursor,g=p.statusCode,m=f.map((function(e){var t=e.itemInfos,i=e.authorInfos,n=Object(a.a)(e,["itemInfos","authorInfos"]);i&&i.userId&&Y.b.dispatch({type:Y.a.ADD,payload:{id:i.userId,relation:i.relation}});try{if(t.vl1&&!t.showNotPass){var o=Object(R.e)("/node/video/playsv",{play_url:t.video.urls[0]}),r=o.signature,s=o.url;t.video.urls=["".concat(s,"&_signature=").concat(encodeURIComponent(r))];var c=Object(R.e)("/node/video/playsv",{play_url:t.covers[0]}),d=c.signature,l=c.url;t.covers=["".concat(l,"&_signature=").concat(encodeURIComponent(d))]}}catch(p){}return Q({itemInfos:t,authorInfos:i},n)})),x=g===U.NET_ERROR?Q({},n.showingVideoList,{statusCode:g}):{videoList:[].concat(Object(o.a)(d),Object(o.a)(m)),hasMore:u,maxCursor:h,statusCode:g},n.setState((r={},Object(c.a)(r,i.type,x),Object(c.a)(r,"loading",!1),r)),n.loading=!1,b.next=30;break;case 25:b.prev=25,b.t0=b.catch(8),console.error(b.t0),n.setState({loading:!1}),n.loading=!1;case 30:case"end":return b.stop()}}),null,null,[[8,25]],Promise)},n.setShowingVideo=function(e){var t=n.props.$isMobile,i=n.showingVideoList.videoList;if(t&&e>=0&&i){var o=i.authorInfos,a=o.uniqueId,r=o.secUid,s=i.itemInfos.id;location.href="https://www.tiktok.com/".concat(Object(R.l)({uniqueId:a,secUid:r,videoId:s}))}else 6!==i[e].itemInfos.takeDown?i[e].itemInfos.showNotPass||(n.setState({showingVideoIndex:e}),E.c.event(M.g.FEED_ENTER,{group_id:i[e].itemInfos.id})):A.a.show(__("duet_FTC_video"))},n.findNextIndex=function(e,t){var i=n.showingVideoList.videoList;if(t){if(e===i.length-1)return"Not Found";var o=i[e+1].itemInfos;return o.showNotPass||6===o.takeDown?e===i.length-2?"Not Found":n.findNextIndex(e+1,t):e+1}if(0===e)return"Not Found";var a=i[e-1].itemInfos;return a.showNotPass||6===a.takeDown?1===e?"Not Found":n.findNextIndex(e-1,t):e-1},n.handleLogin=function(e,t){var i=n.props,o=i.$language;i.feedConfig.pageType===V.PageType.TRENDING&&Object(G.c)("webapp_pc_video_list",JSON.stringify({list:n.showingVideoList,showingVideoIndex:n.state.showingVideoIndex}));var a=B.a.stringify({lang:o,enter_method:t,redirect_url:location.href});e!==H.a.SIGNUP?location.href="https://www.tiktok.com/login/?".concat(a):location.href="https://www.tiktok.com/signup/?".concat(a)},n.handleNextVideo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.keyDown,i=n.state.showingVideoIndex,o=n.findNextIndex(i,!0);"Not Found"!==o&&(n.setState({showingVideoIndex:o}),n.swiperTea({next:!0,keyDown:t}))},n.handlePrevVideo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.keyDown,i=n.state.showingVideoIndex,o=n.findNextIndex(i,!1);"Not Found"!==o&&(n.setState({showingVideoIndex:o}),n.swiperTea({next:!1,keyDown:t}))},n.handleCloseModal=function(){n.setState({showingVideoIndex:-1})},n.handleLike=function(e,t){var i=n.state.selectedTab,a=n.showingVideoList.videoList;n.showingVideo.itemInfos.liked=e,n.showingVideo.itemInfos.diggCount=t,n.setState(Object(c.a)({},i.type,Q({},n.showingVideoList,{videoList:Object(o.a)(a)})))},n.handleTabEnter=function(e){n.setState({lineLeft:e.currentTarget.offsetLeft})},n.handleTabLeave=function(){var e=n.state.selectedTab;n.setState({lineLeft:e.left})},n.handleTabClick=function(e){return function(t){if(n.state.selectedTab.type!==e){var i=t.currentTarget.offsetLeft;n.setState({lineLeft:i,selectedTab:{type:e,left:i}},(function(){var e=n.state.selectedTab,t=n.props.feedConfig.pageType,i=n.userInfo,o=i.user.openFavorite,a=i.isProfile;t!==V.PageType.USER||e.type!==V.TabType.LIKE||a||o?0===n.showingVideoList.videoList.length&&n.handleNextPage():n.setState(Object(c.a)({},V.TabType.LIKE,{videoList:[],hasMore:!1,maxCursor:0}))}))}}},n.getErrorState=function(){var e=n.props,t=e.feedConfig,i=t.emptyTip,o=t.pageType,a=e.$user,r=n.state.selectedTab,s=n.showingVideoList,c=s.videoList,d=s.hasMore;if(o===V.PageType.USER&&r.type===V.TabType.LIKE){var l=n.userInfo,p=l.user,f=p.openFavorite,u=p.uniqueId;if(!l.isProfile&&!f)return{title:__("profile_others_like_private_title"),desc:__("profile_others_like_private_body",["@".concat(u)])}}if(0===c.length&&!d){if(o===V.PageType.TRENDING)return{title:i,desc:" "};if(o!==V.PageType.USER)return{title:i};var h=n.userInfo,g=h.user,m=g.openFavorite,x=g.uniqueId,b=h.isProfile;return r.type===V.TabType.LIKE?b?m?{title:__("profile_public_nolikes_title"),desc:__("profile_self_public_nolikes")}:a&&a.ftcUser?{title:__("profile_self_private_nolikes_title"),desc:__("profile_self_public_nolikes")}:{title:__("profile_self_private_nolikes_title"),desc:__("profile_self_private_nolikes_body",[__("profile_self_likes_settings_portal")])}:{title:__("profile_public_nolikes_title"),desc:__("profile_others_public_nolikes",["@".concat(x)])}:b?{title:__("profile_personal_no_content_title"),desc:__("profile_personal_no_content_body")}:{title:i}}return null},n.renderError=function(){var e=n.props,t=e.$user,i=e.feedConfig.pageType,o=n.showingVideoList,a=o.videoList,r=o.statusCode,s=n.state,c=s.loading,d=s.selectedTab;if(i===V.PageType.USER&&t&&t.ftcUser&&d.type===V.TabType.POST)return X("div",null);if(0===a.length&&r===U.NET_ERROR&&!c)return X("div",{className:"jsx-1115425213 error-retry"},X(j.a,{id:"1115425213"},[".error-retry.jsx-1115425213{padding-top:120px;text-align:center;}",'.error-title.jsx-1115425213{font-family:"sofiapro-bold",PingFangSC,sans-serif;font-weight:700;font-size:24px;line-height:28px;color:rgba(18,18,18,0.34);}','html[lang^="vi"] .error-title.jsx-1115425213{font-family:"IBM Plex Sans","sofiapro-bold",PingFangSC,sans-serif;}','.error-desc.jsx-1115425213{font-family:"proxima-semibold",PingFangSC,sans-serif;font-weight:600;font-size:16px;line-height:22px;color:#fe2c55;margin-top:8px;cursor:pointer;}','html[lang^="vi"] .error-desc.jsx-1115425213{font-family:"IBM Plex Sans","proxima-semibold",PingFangSC,sans-serif;}']),X("p",{className:"jsx-1115425213 error-title"},__("profile_network_error_1")),X("p",{onClick:n.handleNextPage,className:"jsx-1115425213 error-desc"},__("profile_network_error_2")));var l=n.getErrorState();return l?X(O.a.Error,{title:l.title,desc:l.desc}):null},n.renderTab=function(){var e=n.state,t=e.lineLeft,i=e.selectedTab;return X("div",{onMouseLeave:n.handleTabLeave,className:"jsx-".concat(ee.__hash)+" video-feed-tab"},X(j.a,{id:ee.__hash},ee),X("p",{onMouseEnter:n.handleTabEnter,onClickCapture:n.handleTabClick(V.TabType.POST),className:"jsx-".concat(ee.__hash)+" "+(v()({active:i.type===V.TabType.POST})||"")},X("span",{className:"jsx-".concat(ee.__hash)},__("videos"))),X("p",{onMouseEnter:n.handleTabEnter,onClickCapture:n.handleTabClick(V.TabType.LIKE),className:"jsx-".concat(ee.__hash)+" "+(v()("like",{private:!n.userInfo.user.openFavorite,active:i.type===V.TabType.LIKE})||"")},X("span",{className:"jsx-".concat(ee.__hash)},__("Likes"))),X("div",{style:{transform:"translateX(".concat(t,"px)")},className:"jsx-".concat(ee.__hash)+" bottom-line"}))},n.renderFeed=function(){var e=n.props,t=e.feedConfig,i=t.showAvatar,o=t.pageType,a=e.$region,r=n.renderError();if(r)return r;var s=n.showingVideoList.videoList,c=n.state.loading,d=c&&0===s.length;return X(g.a.Fragment,null,X(P.b,{skeleton:d,theme:o===V.PageType.TRENDING?P.a.NORMAL:P.a.COMPACT,showAvatar:i,onSelectVideo:n.setShowingVideo,region:a,itemList:s,pageType:o}),c&&!d&&X(I.a,{className:"feed-loading"}))},n}return Object(u.a)(i,t),Object(l.a)(i,[{key:"componentDidMount",value:function(){var e,t,i,n;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.props.feedConfig){o.next=2;break}return o.abrupt("return");case 2:if(this.props.feedConfig.pageType!==V.PageType.TRENDING){o.next=14;break}if(!(e=Object(G.a)("webapp_pc_video_list"))){o.next=14;break}return o.prev=5,t=JSON.parse(e),i=t.list,n=t.showingVideoIndex,o.next=9,s.a.awrap(this.asyncSetState(Object(c.a)({showingVideoIndex:n},V.TabType.POST,i)));case 9:o.next=13;break;case 11:o.prev=11,o.t0=o.catch(5);case 13:Object(G.b)("webapp_pc_video_list");case 14:this.handleNextPage(),window.addEventListener("keydown",this.handleKeyDown),this.unsubscribe=Object(L.n)(L.c,this.handleMuteChange),y.Router.events.on("routeChangeComplete",this.handleRouterChange);case 18:case"end":return o.stop()}}),null,this,[[5,11]],Promise)}},{key:"componentWillUnmount",value:function(){var e=this.props.removeHiddenBody;this.state.showingVideoIndex>=0&&e(),window.removeEventListener("keydown",this.handleKeyDown),this.unsubscribe&&this.unsubscribe(),y.Router.events.off("routeChangeComplete",this.handleRouterChange)}},{key:"componentDidUpdate",value:function(e,t){var i=this.state.showingVideoIndex,n=this.showingVideoList.videoList;if(!(t.showingVideoIndex===i||i>=0&&t.showingVideoIndex>=0)){var o=this.props,a=o.hiddenBody,r=o.removeHiddenBody;i>=0?a():r(),i>=n.length-3&&this.handleNextPage()}}},{key:"renderVideoPlayModal",value:function(){var e=this.showingVideoInfo,t=this.videoModalArrowStatus;if(!e)return null;var i=this.props,o=i.$language,a=i.feedConfig.pageType,r=this.state,s=r.videoCardMuted,c=r.selectedTab;return X(T.c,Object(n.a)({pageType:a,showReport:!(a===V.PageType.USER&&this.isProfile&&c.type===V.TabType.POST),onLike:this.handleLike,mode:T.a.BROWSE,lang:o,disabled:t,onClose:this.handleCloseModal,onPrev:this.handlePrevVideo,onNext:this.handleNextVideo,defaultMuted:s,resetVideoCount:this.handleVideoCountUpdate,onClickLogin:this.handleLogin},e))}},{key:"render",value:function(){var t=this,i=this.props.feedConfig;if(!i)return X("div",{ref:function(e){t.rootElement=e}},X(e,Object(n.a)({onDataUpdate:this.updateData,onSkeletonUpdate:this.updateSkeleton},this.props)));var o=i.pageType,a=this.state,r=a.isTop,s=a.headerSkeleton;return X("div",{ref:function(e){t.rootElement=e},className:"jsx-4269593484"},X(j.a,{id:"4269593484"},['.video-list-container::after{content:"";height:0;display:block;clear:both;}',"body .feed-loading{margin:auto;}"]),X(e,Object(n.a)({},this.props,{key:this.key,onDataUpdate:this.updateData,onSkeletonUpdate:this.updateSkeleton}),!s&&X(g.a.Fragment,null,o===V.PageType.USER&&this.renderTab(),this.renderFeed()),this.renderVideoPlayModal()),X(_.a,{isShow:!r}))}},{key:"showingVideoList",get:function(){var e=this.state.selectedTab;return this.state[e.type]}},{key:"showingVideo",get:function(){var e=this.state.showingVideoIndex;return e<0?null:this.showingVideoList.videoList[e]}},{key:"showingVideoInfo",get:function(){var e=this.state,t=e.showingVideoIndex,i=e.videoCardMuted;return t<0||t>this.showingVideoList.videoList.length-1?null:Q({control:!0,showMute:!0,defaultMuted:i,playsInline:!0,loop:!0,pauseOthers:!0,autoPlay:!0},Object(T.d)(this.showingVideoList.videoList[t]))}},{key:"videoModalArrowStatus",get:function(){var e=this.state.showingVideoIndex,t=this.showingVideoList.videoList;return-1!==e&&t.length?!("Not Found"!==this.findNextIndex(e,!0))<<1|!("Not Found"!==this.findNextIndex(e,!1)):T.b.BOTH}},{key:"key",get:function(){var e=this.props,t=e.feedConfig,i=e.statusCode,n=e.musicData,o=e.challengeData,a=e.userData,r=t.pageType;if(0!==i)return"";try{switch(r){case V.PageType.MUSIC:return n.musicId;case V.PageType.CHALLENGE:return o.challengeId;case V.PageType.USER:return a.userId}}catch(s){return""}return""}},{key:"userInfo",get:function(){var e=this.state.propsData,t=this.props,i=t.userInfo,n=t.$user,o=void 0===n?{}:n,a=(e||{}).userInfo,r=(void 0===a?{}:a).user||i.user||{};return{user:r,isProfile:o.uniqueId===r.uniqueId}}},{key:"isProfile",get:function(){return this.userInfo.isProfile}}],[{key:"getInitialProps",value:function(t){var i;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(e.getInitialProps(t));case 2:return i=n.sent,n.abrupt("return",i);case 4:case"end":return n.stop()}}),null,null,null,Promise)}}]),i}(h.PureComponent),i.displayName="withShareFeed(".concat(Object(S.a)(e),")"),t=r))||t;return x()(m,e,{getInitialProps:!0}),Object(y.withRouter)(m)}};var ee=[".video-feed-tab.jsx-3280490660{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;height:44px;margin-bottom:2px;position:relative;}",'.video-feed-tab.jsx-3280490660>p.jsx-3280490660{-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;position:relative;cursor:pointer;font-family:"sofiapro-semibold",PingFangSC,sans-serif;font-weight:700;font-size:18px;line-height:25px;color:rgba(18,18,18,0.5);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;}','html[lang^="vi"] .video-feed-tab.jsx-3280490660>p.jsx-3280490660{font-family:"IBM Plex Sans","sofiapro-semibold",PingFangSC,sans-serif;}',".video-feed-tab.jsx-3280490660>p.active.jsx-3280490660{color:#121212;}",".video-feed-tab.jsx-3280490660>p.like.private.jsx-3280490660::before{content:'';display:inline-block;width:20px;height:20px;background:url(".concat(z.a,") center no-repeat;background-size:contain;margin-right:6px;}"),".video-feed-tab.jsx-3280490660>p.like.private.active.jsx-3280490660::before{background-image:url(".concat(q.a,");}"),".video-feed-tab.jsx-3280490660 .bottom-line.jsx-3280490660{position:absolute;height:2px;background:#161823;left:0;bottom:0;width:50%;-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;}"];ee.__hash="3280490660"},NjHF:function(e,t,i){"use strict";i.d(t,"a",(function(){return N})),i.d(t,"b",(function(){return E}));var n,o=i("Fcif"),a=i("NthX"),r=i.n(a),s=i("hisu"),c=i("yBJb"),d=i("kMo5"),l=i("P+uj"),p=i("0942"),f=i("CHlC"),u=i("mK0O"),h=i("mXGw"),g=i.n(h),m=i("YIwv"),x=i.n(m),b=i("8Jek"),v=i.n(b),y=i("Ekvj"),w=i("1e8M"),j=i("J2F4"),k=i("hxo6"),O=i("qJnZ"),_=i("sxP8"),T=i("Qi1R"),I=i("hi5D"),P=g.a.createElement;function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){Object(u.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var N={COMPACT:"compact",NORMAL:"normal"},L=(n={},Object(u.a)(n,N.COMPACT,{ratio:196/260,borderRadius:0}),Object(u.a)(n,N.NORMAL,{ratio:256/380,borderRadius:4}),n),E=function(e){function t(e){var i;return Object(s.a)(this,t),(i=Object(d.a)(this,Object(l.a)(t).call(this,e))).getInstanceHandle=function(e){return function(t){i.videoPlayers[e]=C({},i.videoPlayers[e],{el:t})}},i.videoCardMouseEnterHandle=function(e){return function(){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:i.videoPlayers[e].el.play(),i.preHover=i.hoverIndex,i.hoverIndex=e;case 3:case"end":return t.stop()}}),null,null,null,Promise)}},i.videoTea=function(e,t){var n,o=i.props,a=o.itemList,r=o.pageType,s=Object(p.a)(i),c=s.hoverIndex,d=s.preHover,l={play_mode:c===t||d===t?"list_mouse_trigger":"list_auto"};switch(e){case"play":n=j.l.PLAY,i.playStart||(i.playStart=(new Date).getTime());break;case"ended":n=j.l.FINISH;break;case"pause":n=j.l.STOP,l.duration=(new Date).getTime()-i.playStart,i.playStart=c===t?0:(new Date).getTime()}n&&a[t]&&Object(k.a)({TeaName:n,itemInfos:a[t].itemInfos,pageType:r,parmas:l})},i.linkClickHandle=function(e){return function(t){t.preventDefault(),(0,i.props.onSelectVideo)(e)}},i.renderSkeletonCard=function(){var e=i.props.theme,t=L[e].ratio;return P(y.a,{ratio:t,className:"video-feed-item"},P(x.a,{id:"3989360545"},[".video-card-skeleton.jsx-3989360545{width:100%;height:100%;background:rgba(22,24,35,0.03);}"]),P("div",{className:"jsx-3989360545 video-card-skeleton"}))},i.renderSkeleton=function(){var e=i.props.theme;return P("div",{className:"jsx-".concat(D.__hash)+" "+(v()("video-feed",e)||"")},P(x.a,{id:D.__hash},D),Array(9).fill("").map((function(){return i.renderSkeletonCard()})))},i.videoPlayers=[],i.hoverIndex=null,i.playStart=null,i}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.itemList,n=t.showAvatar,a=t.region,r=t.pageType,s=t.autoPlay,c=t.theme,d=t.skeleton,l=Object(O.b)(r),p=L[c],f=p.ratio,u=p.borderRadius;return d?this.renderSkeleton():P("div",{className:"jsx-".concat(D.__hash)+" "+(v()("video-feed",c)||"")},P(x.a,{id:D.__hash},D),i.map((function(t,i){var d=C({borderRadius:u,showMute:!1,defaultMuted:!0,playsInline:!0,loop:!0,pauseOthers:!0,index:i,autoPlay:!(!s||0!==i)||null},Object(_.c)(t)),p="https://www.tiktok.com".concat(Object(T.l)({uniqueId:t.authorInfos.uniqueId,sedUid:t.authorInfos.secUid,videoId:t.itemInfos.id}));return P(y.a,{ratio:f,className:v()("video-feed-item",{"trending-feed-item":r===I.PageType.TRENDING}),key:d.videoId},P("a",{href:p,onMouseEnter:e.videoCardMouseEnterHandle(i),onClick:e.linkClickHandle(i),className:"jsx-".concat(D.__hash)+" video-feed-item-wrapper"},P(w.a,Object(o.a)({theme:c,index:i,region:a,"webkit-playsinline":"true",getInstance:e.getInstanceHandle(i)},d,{videoTea:e.videoTea,showAvatar:n,showFooter:l,pageType:r}))))})))}}]),t}(h.PureComponent);E.defaultProps={theme:N.COMPACT,itemList:[],onSelectVideo:function(){},showAvatar:!0,autoPlay:!0};var D=['.video-feed.jsx-525736674::after{content:"";height:0;display:block;clear:both;}',".video-feed.jsx-525736674 .trending-feed-item .card-footer{padding-bottom:8px;}",".video-feed.jsx-525736674 .trending-feed-item .footer-avatar{margin-bottom:10px !important;}",".video-feed.jsx-525736674 .trending-feed-item .like-icon{margin-right:7px !important;}",".video-feed.jsx-525736674 .trending-feed-item .video-count{font-size:17px;}",".video-feed.jsx-525736674 .video-feed-item{display:block;float:left;width:256px;margin-right:24px;margin-bottom:24px;}",".is-rtl .video-feed.jsx-525736674 .video-feed-item{direction:rtl;float:right;margin-right:0;margin-left:24px;}",".video-feed.jsx-525736674 .video-feed-item .is-rtl.jsx-525736674{direction:rtl;float:right;margin-right:0;margin-left:24px;}","@media (max-width:991px){.video-feed.jsx-525736674{width:100%;}.video-feed.jsx-525736674 .video-feed-item{width:50%;height:auto;}.video-feed.jsx-525736674 .video-feed-item:nth-child(even){margin-right:-24px;}}",".video-feed.compact.jsx-525736674 .video-feed-item{width:196px;margin-right:2px;margin-bottom:2px;}",".is-rtl .video-feed.compact.jsx-525736674 .video-feed-item{direction:rtl;float:right;margin-right:0;margin-left:2px;}",".video-feed.compact.jsx-525736674 .video-feed-item .is-rtl.jsx-525736674{direction:rtl;float:right;margin-right:0;margin-left:2px;}","@media (max-width:991px){.video-feed.compact.jsx-525736674{width:100%;}.video-feed.compact.jsx-525736674 .video-feed-item{width:50%;height:auto;}.video-feed.compact.jsx-525736674 .video-feed-item:nth-child(even){margin-right:-2px;}}"];D.__hash="525736674"},QQyr:function(e,t){e.exports="//s16.tiktokcdn.com/tiktok/falcon/_next/static/images/img-music@3x-fed8281f80c965c592078733c43c604d.png"},SOdK:function(e,t,i){"use strict";var n=i("Fcif"),o=i("hisu"),a=i("yBJb"),r=i("kMo5"),s=i("P+uj"),c=i("0942"),d=i("CHlC"),l=i("mXGw"),p=i.n(l),f=i("GeWT"),u=i.n(f),h=i("T5cu"),g=i.n(h),m=i("X5oT"),x=p.a.createElement;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(i){var p=function(l){function p(e){var i;return Object(o.a)(this,p),(i=Object(r.a)(this,Object(s.a)(p).call(this,e))).handleScroll=g()(i.handleScroll.bind(Object(c.a)(i)),t),i}return Object(d.a)(p,l),Object(a.a)(p,[{key:"handleScroll",value:function(t){if(this.wrapped){var i=document.documentElement||document.body.parentNode||document.body,n="undefined"!==typeof window.pageYOffset?window.pageYOffset:i.scrollTop;e.call(this.wrapped,t,n)}}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this;return x(i,Object(n.a)({},this.props,{ref:function(t){e.wrapped=t}}))}}]),p}(l.PureComponent);return p.displayName="WithScrollListener(".concat(Object(m.a)(i),")"),u()(p,i),p}}},UrpS:function(e,t){e.exports="//s16.tiktokcdn.com/tiktok/falcon/_next/static/images/to-top-icon-d5f1773a6889e718013e5e03e30e64b5.svg"},gAnI:function(e,t,i){"use strict";i.d(t,"a",(function(){return he}));var n=i("NthX"),o=i.n(n),a=i("aNYv"),r=i("6CzD"),s=i("Cpn1"),c=i("tdEy"),d=i("IoK0");var l=i("hisu"),p=i("yBJb"),f=i("kMo5"),u=i("P+uj"),h=i("CHlC"),g=i("mK0O"),m=i("mXGw"),x=i.n(m),b=i("9DbC"),v=i("Fcif"),y=i("dV/x"),w=i("8Jek"),j=i.n(w),k=i("YIwv"),O=i.n(k),_=i("4DfP"),T=i("UKnr"),I=i("J7wF"),P=i("hxo6"),S=i("J2F4"),C=i("QQyr"),N=i.n(C),L=i("/Ykv"),E=i.n(L),D=i("6XoQ"),V=i("T5cu"),R=i.n(V),M=i("os2B"),U=i("PboR"),F=i("v0uu"),A=i("ZPNs"),H=i("hi5D"),G=i("1Svq"),K=x.a.createElement;function B(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(Object(i),!0).forEach((function(t){Object(g.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var z={styles:K(O.a,{id:"1563344834"},['.follow-button.jsx-1563344834{font-family:"proxima-semibold",PingFangSC,sans-serif;font-weight:600;font-size:14px;line-height:17px;height:28px;width:88px;-webkit-flex:0 0 88px;-ms-flex:0 0 88px;flex:0 0 88px;margin-left:12px;}','html[lang^="vi"] .follow-button.jsx-1563344834{font-family:"IBM Plex Sans","proxima-semibold",PingFangSC,sans-serif;}']),className:"jsx-1563344834"},J=[".recommend-item.jsx-646556069{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".recommend-link-avatar.jsx-646556069 .head{margin-right:12px;}",".is-rtl .recommend-link-avatar.jsx-646556069 .head{direction:rtl;margin-right:0;margin-left:12px;}",".recommend-link-avatar.jsx-646556069 .head .is-rtl.jsx-646556069{direction:rtl;margin-right:0;margin-left:12px;}",".recommend-link-avatar.jsx-646556069:hover~.recommend-link-infos.jsx-646556069 h4.jsx-646556069{-webkit-text-decoration:underline;text-decoration:underline;}",".recommend-link-infos.jsx-646556069{display:block;color:#000000;overflow:hidden;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",'.recommend-link-infos.jsx-646556069 h4.jsx-646556069{font-family:"proxima-semibold",PingFangSC,sans-serif;font-weight:600;font-size:17px;line-height:20px;margin:0;margin-bottom:2px;white-space:pre;overflow:hidden;text-overflow:ellipsis;}','html[lang^="vi"] .recommend-link-infos.jsx-646556069 h4.jsx-646556069{font-family:"IBM Plex Sans","proxima-semibold",PingFangSC,sans-serif;}','.recommend-link-infos.jsx-646556069 p.jsx-646556069{font-family:"proxima-regular",PingFangSC,sans-serif;font-weight:400;font-size:14px;line-height:17px;color:rgba(22,24,35,0.5);white-space:pre;overflow:hidden;text-overflow:ellipsis;}','html[lang^="vi"] .recommend-link-infos.jsx-646556069 p.jsx-646556069{font-family:"IBM Plex Sans","proxima-regular",PingFangSC,sans-serif;}',".recommend-link-infos.jsx-646556069:hover h4.jsx-646556069{-webkit-text-decoration:underline;text-decoration:underline;}",".arrow-right.jsx-646556069{-webkit-flex:0 0 20px;-ms-flex:0 0 20px;flex:0 0 20px;width:20px;height:20px;margin-left:10px;position:relative;}",".is-rtl .arrow-right.jsx-646556069{direction:rtl;margin-left:0;margin-right:10px;}",".arrow-right.is-rtl.jsx-646556069{direction:rtl;margin-left:0;margin-right:10px;}",".arrow-right.jsx-646556069::before{content:'';display:block;width:8px;height:2px;border-radius:1px;background:#161823;position:absolute;top:50%;right:0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom;}",".is-rtl .arrow-right.jsx-646556069::before{direction:rtl;-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;}",".arrow-right.jsx-646556069::before.is-rtl{direction:rtl;-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;}",".arrow-right.jsx-646556069::after{content:'';display:block;width:8px;height:2px;border-radius:1px;background:#161823;position:absolute;top:50%;right:0;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:right top;-ms-transform-origin:right top;transform-origin:right top;}",".is-rtl .arrow-right.jsx-646556069::after{direction:rtl;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom;}",".arrow-right.jsx-646556069::after.is-rtl{direction:rtl;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom;}"];J.__hash="646556069";var q=[".recommend-item-frame.jsx-542056017{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#000000;}",".recommend-item-frame.jsx-542056017 .head{width:48px;height:48px;margin-right:12px;background:#eeeeee;border-radius:2px;}",".recommend-item-frame.jsx-542056017 .head.round{border-radius:999px;}",".recommend-item-frame.jsx-542056017 .info-content.jsx-542056017{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".recommend-item-frame.jsx-542056017 .info-content.jsx-542056017 h4.jsx-542056017{height:20px;width:70%;margin:0;margin-bottom:2px;background:#eeeeee;}",".recommend-item-frame.jsx-542056017 .info-content.jsx-542056017 p.jsx-542056017{height:17px;width:50%;background:#eeeeee;}",".recommend-item-frame.jsx-542056017 .arrow-right.jsx-542056017{-webkit-flex:0 0 20px;-ms-flex:0 0 20px;flex:0 0 20px;width:20px;height:20px;margin-left:10px;position:relative;}",".recommend-item-frame.jsx-542056017 .arrow-right.jsx-542056017::before{content:'';display:block;width:8px;height:2px;border-radius:1px;background:#161823;position:absolute;top:50%;right:0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom;}",".recommend-item-frame.jsx-542056017 .arrow-right.jsx-542056017::after{content:'';display:block;width:8px;height:2px;border-radius:1px;background:#161823;position:absolute;top:50%;right:0;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:right top;-ms-transform-origin:right top;transform-origin:right top;}"];q.__hash="542056017";var Y=[".recommend-card.jsx-847324231{border:1px solid rgba(22,24,35,0.12);border-radius:8px;height:380px;box-sizing:border-box;padding-right:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".recommend-card.jsx-847324231 header.jsx-847324231{padding:24px 16px;padding-right:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}",'.recommend-card.jsx-847324231 header.jsx-847324231 h3.jsx-847324231{font-family:"sofiapro-bold",PingFangSC,sans-serif;font-weight:700;font-size:33px;line-height:1;font-size:24px;}','html[lang^="vi"] .recommend-card.jsx-847324231 header.jsx-847324231 h3.jsx-847324231{font-family:"IBM Plex Sans","sofiapro-bold",PingFangSC,sans-serif;}','.recommend-card.jsx-847324231 header.jsx-847324231 a{font-family:"proxima-regular",PingFangSC,sans-serif;font-weight:400;font-size:17px;line-height:20px;color:#fe2c55;}','html[lang^="vi"] .recommend-card.jsx-847324231 header.jsx-847324231 a{font-family:"IBM Plex Sans","proxima-regular",PingFangSC,sans-serif;}',".recommend-card.jsx-847324231 ul.jsx-847324231{list-style:none;padding:0 16px 24px;margin:0;overflow-x:hidden;overflow-y:auto;height:272px;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".recommend-card.jsx-847324231 ul.jsx-847324231 li+li{margin-top:20px;}"];Y.__hash="847324231";var X,W,Q,Z,ee,te={Creators:"user_pannel",Discover:"tag_pannel"},ie={user:{event:S.f.USER,key:"to_user_id"},music:{event:S.f.MUSIC,key:"music_id",defaultIcon:N.a},challenge:{event:S.f.CHALLENGE,key:"tag_id",defaultIcon:E.a}},ne=function(e){var t=e.appId,i=e.lang,n=e.type,o=e.img,r=e.title,s=e.desc,c=e.href,d=e.as,l=e.dataType,p=e.payload,f=e.enterMethod,u=e.isVerified,h=e.beforeLogin,m=e.pageType,x=c.split("?"),b=Object(a.a)(x,2),v=b[0],w=b[1],j=T.parse(w),k="round"===n;return K("div",{onClick:function(){return function(e){var t=e.TeaName,i=Object(y.a)(e,["TeaName"]);Object(P.a)({TeaName:t,parmas:i})}(Object(g.a)({enter_method:f,TeaName:ie[l].event},ie[l].key,p))},className:"jsx-".concat(J.__hash)+" recommend-item"},K(O.a,{id:J.__hash},J),z.styles,K(I.a,{pathname:v,query:$({},j,{appId:t,lang:i}),as:d||c},K("a",{className:"jsx-".concat(J.__hash)+" recommend-link-avatar"},K(_.a,{className:"head",img:o||ie[l].defaultIcon,isRound:k,isVerified:u}))),K(I.a,{pathname:v,query:$({},j,{appId:t,lang:i}),as:d||c},K("a",{className:"jsx-".concat(J.__hash)+" recommend-link-infos"},K("h4",{className:"jsx-".concat(J.__hash)},r),K("p",{className:"jsx-".concat(J.__hash)},s))),!k&&K("div",{className:"jsx-".concat(J.__hash)+" arrow-right"}),k&&K(D.e,{onFollow:function(e,t){G.b.dispatch({type:G.a.UPDATE,payload:{id:t,relation:D.d[e]}})},pageType:m===H.PageType.USER?H.PageType.USER_RECOMMEND:m,className:z.className,theme:D.b.TRANSPARENT,beforeLogin:h,id:p}))},oe=function(e){var t=e.type;return K("div",{className:"jsx-".concat(q.__hash)+" recommend-item-frame"},K(O.a,{id:q.__hash},q),K("div",{className:"jsx-".concat(q.__hash)+" "+(j()("head",Object(g.a)({},t,Boolean(t)))||"")}),K("div",{className:"jsx-".concat(q.__hash)+" info-content"},K("h4",{className:"jsx-".concat(q.__hash)}),K("p",{className:"jsx-".concat(q.__hash)})))},ae=[],re=[],se=function(e){var t=e.appId,i=e.lang,n=e.title,o=e.itemList,a=void 0===o?[]:o,s=e.type,c=e.beforeLogin,d=e.impression,l=e.pageType,p=Object(m.useContext)(U.a),f=p.$language,u=p.$isMobile,h=p.$region,g=p.$appId,b=x.a.createRef(),y=d?function(){var e;if(d&&b.current){for(var t=Object(A.b)(g),i=[],n=b.current,o=n.scrollTop,s=n.offsetHeight,c=Object(r.a)(b.current.querySelectorAll("li")),l=0;l<c.length;l++){var p=c[l],m=p.offsetTop-n.offsetTop;if(!(m+p.offsetHeight<o)){if(m-o>s)break;i.push(a[l])}}(e=re).push.apply(e,Object(r.a)(i.filter((function(e){var t=e.payload;return ae.indexOf(t)<0})).map((function(e){return{id:e.payload,secUid:e.secUid}})))),re.length&&(X&&clearTimeout(X),X=setTimeout((function(){var e=new FormData;e.append("uids",re.map((function(e){return e.id})).join(",")),e.append("secUids",re.map((function(e){return e.secUid})).join(",")),e.append("scenario","2"),M.a.writeImpression({data:e,query:{aid:1988,app_language:f,device_platform:u?"web_mobile":"web_pc",current_region:h,fromWeb:1}},{baseURL:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}),ae.push.apply(ae,Object(r.a)(re.map((function(e){return e.id})))),re=[]}),500))}}:F.i;Object(m.useEffect)((function(){d&&a.length&&y()}),[a]);return K("div",{className:"jsx-".concat(Y.__hash)+" recommend-card"},K(O.a,{id:Y.__hash},Y),K("header",{className:"jsx-".concat(Y.__hash)},K("h3",{className:"jsx-".concat(Y.__hash)},__(n))),K("ul",{onScroll:R()(y,100),ref:b,className:"jsx-".concat(Y.__hash)},a.length>0?K(x.a.Fragment,null,a.map((function(e,o){return K("li",{key:e.title+o},K(ne,Object(v.a)({pageType:l,appId:t,lang:i},e,{enterMethod:te[n],beforeLogin:c})))}))):K(x.a.Fragment,null,Array(5).fill("").map((function(e,t){return K("li",{key:t},K(oe,{type:s}))})))))},ce=i("sNV9"),de=i("Qi1R"),le=i("KV1Y"),pe=i("lVH5"),fe=x.a.createElement,ue=(W={},Object(g.a)(W,H.PageType.DISCOVER,16),Object(g.a)(W,H.PageType.USER,15),Object(g.a)(W,H.PageType.TRENDING,17),W),he=Object(U.b)((ee=Z=function(e){function t(){var e,i;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(i=Object(f.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={creators:[],items:[]},i}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){this.props.userId!==e.userId&&(this.setState({creators:[]}),this.loadData())}},{key:"loadData",value:function(){var e,t,i,n,l,p,f,u,h,g,m,x,b,v,y,w,j,k,O,_,T,I,P,S,C,N,L;return o.a.async((function(D){for(;;)switch(D.prev=D.next){case 0:return e=this.props,t=e.$appId,i=e.userId,n=e.pageType,D.next=3,o.a.awrap(ce.a.getDiscoverAside({appId:t,_signature:!0,params:{noUser:this.hasUser?"0":"1",userId:i,userCount:n===H.PageType.TRENDING?"28":"30",scene:ue[n]||0}}));case 3:if(l=D.sent,p=l.statusCode,f=l.body,0===p&&f){D.next=8;break}return D.abrupt("return");case 8:for(V=f,u=Object(s.a)(V)||Object(c.a)(V)||Object(d.a)(),h=u[0],g=u.slice(1),this.hasUser&&(m=h.exploreList.map((function(e){var t=e.cardItem;return G.b.dispatch({type:G.a.ADD,payload:{id:t.extraInfo.userId,relation:t.extraInfo.relation}}),{type:"round",img:t.cover,title:t.title,desc:t.subTitle,href:"/share/user?uniqueId=".concat(t.link.substr(2)),as:t.link,dataType:"user",payload:t.extraInfo.userId,isVerified:t.extraInfo.verified,relation:t.extraInfo.relation,secUid:t.extraInfo.secUid}})).sort((function(e,t){return e.relation-t.relation})),this.setState({creators:m})),x=g.map((function(e){return e.exploreList})),b=[],v=Object(de.n)(),y=0;y<Math.max.apply(Math,Object(r.a)(x.map((function(e){return e.length}))));y++)y<=x[1].length-1&&(w=x[1][y].cardItem,j=w.extraInfo,k=(j=void 0===j?{}:j).posts,O=void 0===k?0:k,_=w.link.substr(7).match(/(.+)-(.+)$/),T=Object(a.a)(_,3),I=T[1],P=T[2],b.push({img:w.cover,title:w.title,desc:"".concat(Object(le.a)(O)," ").concat(__("videos_")),href:"/share/music?0=".concat(I,"&id=").concat(P),as:w.link+v,dataType:"music",payload:w.extraInfo.musicId})),y<=x[0].length-1&&(S=x[0][y].cardItem,C=S.extraInfo,N=(C=void 0===C?{}:C).views,L=void 0===N?0:N,b.push({img:S.cover||E.a,title:S.title,desc:"".concat(Object(le.a)(L)," ").concat(__("views")),href:"/share/challenge?name=".concat(S.link.substr(5)),as:S.link+v,dataType:"challenge",payload:S.extraInfo.challengeId}));this.setState({items:b});case 15:case"end":return D.stop()}var V}),null,this,null,Promise)}},{key:"render",value:function(){var e=this.props,t=e.shareConfig,i=e.$language,n=e.$appId,o=e.pageType,a=e.impression,r=this.state,s=r.creators,c=r.items;return fe(x.a.Fragment,null,fe("div",{className:"jsx-1018646628 recommend-aside"},fe(O.a,{id:"1018646628"},[".recommend-aside.jsx-1018646628>.share-group{margin-bottom:39px;text-align:left;}",".recommend-aside.jsx-1018646628>.recommend-card + .recommend-card{margin-top:50px;}"]),fe(b.b,t),this.hasUser?fe(se,{impression:a,pageType:o,appId:n,lang:i,type:"round",title:"sug_accounts",itemList:s}):null,this.hasDiscover?fe(se,{pageType:o,appId:n,lang:i,title:"Discover",itemList:c,allHref:{href:"/explore",as:"/discover"}}):null),fe(pe.a,{card:!0}))}},{key:"hasUser",get:function(){var e=this.props,t=e.pageType,i=e.isSecret;return(t!==H.PageType.USER||!i)&&(t!==H.PageType.MUSIC&&t!==H.PageType.CHALLENGE)}},{key:"hasDiscover",get:function(){return this.props.pageType!==H.PageType.USER}}]),t}(m.PureComponent),Z.defaultProps={shareConfig:{},impression:!1},Q=ee))||Q},hxo6:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("mK0O"),o=i("hGcu"),a=i("J2F4"),r=i("hi5D");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){var t=e.TeaName,i=e.itemInfos,c=e.userData,d=void 0===c?{}:c,l=e.musicData,p=void 0===l?{}:l,f=e.challengeData,u=void 0===f?{}:f,h=e.pageType,g=e.parmas,m=void 0===g?{}:g;switch(h){case r.PageType.USER:m.author_id||(m.author_id=d.id||d.userId);break;case r.PageType.CHALLENGE:m.tag_id=u.id||u.challengeId;break;case r.PageType.MUSIC:m.music_id=p.id||p.musicId}m.type=r.PageShareType[h],i&&(m.author_id=i.authorId,m.group_id=i.id),o.c.event(t,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},m,{teaChannel:a.j.PWA}),o.a.ALL)}},sNV9:function(e,t,i){"use strict";var n=i("mK0O"),o=i("dV/x"),a=i("NthX"),r=i.n(a),s=i("ZPNs");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={getDiscoverRenderData:function(e){var t,i,n=arguments;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:{},i=n.length>2&&void 0!==n[2]?n[2]:"en",o.abrupt("return",Object(s.g)("/discover/render/".concat(e,"?lang=").concat(i),{},t));case 3:case"end":return o.stop()}}),null,null,null,Promise)},getDiscoverAside:function(e){var t,i,n,a,c,l;return r.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.appId,i=e.baseURL,n=e.params,a=void 0===n?{}:n,c=Object(o.a)(e,["appId","baseURL","params"]),l=Object(s.a)(t,i),r.abrupt("return",Object(s.g)("/node/share/discover",a,d({baseURL:l},c)));case 3:case"end":return r.stop()}}),null,null,null,Promise)}};t.a=l},uFfG:function(e,t,i){"use strict";var n=i("mXGw"),o=i.n(n),a=i("6cnl"),r=i("YIwv"),s=i.n(r),c=[".to-top.jsx-1621765621{width:50px;height:50px;position:fixed;right:30px;bottom:40px;background:transparent center no-repeat;background-size:contain;-webkit-transition:opacity 300ms;transition:opacity 300ms;cursor:pointer;z-index:7;}",".is-rtl .to-top.jsx-1621765621{direction:rtl;right:0;left:30px;}",".to-top.is-rtl.jsx-1621765621{direction:rtl;right:0;left:30px;}",".to-top-enter.jsx-1621765621{opacity:0;}",".to-top-enter-active.jsx-1621765621,.to-top-enter-done.jsx-1621765621{opacity:1;}",".to-top-exit.jsx-1621765621{opacity:1;}",".to-top-exit-active.jsx-1621765621,.to-top-exit-done.jsx-1621765621{opacity:0;}","@media (max-width:991px){.to-top.jsx-1621765621{right:24px;}}"];c.__hash="1621765621";var d=c,l=i("UrpS"),p=i.n(l),f=i("7lyN"),u=o.a.createElement,h=function(){var e=Object(f.c)(),t=Date.now();!function i(){var n=Date.now()-t;if(n>=100)window.scrollTo(0,0);else{var o=(100-n)/100*e;window.scrollTo(0,o),requestAnimationFrame(i)}}()};t.a=Object(n.memo)((function(e){var t=e.isShow;return u(a.a,{unmountOnExit:!0,in:t,timeout:300,classNames:"to-top"},u("div",{onClick:h,className:"jsx-".concat(d.__hash)+" "+s.a.dynamic([["4053244906",[p.a]]])+" to-top"},u(s.a,{id:d.__hash},d),u(s.a,{id:"4053244906",dynamic:[p.a]},['.to-top.__jsx-style-dynamic-selector{background-image:url("'.concat(p.a,'");}')])))}))},xjLB:function(e,t){e.exports="//s16.tiktokcdn.com/tiktok/falcon/_next/static/images/pc_like_private-fa9fdba609f7d67819f3f0c5d0d76f02.svg"}}]);